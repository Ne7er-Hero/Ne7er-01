<?xml version="1.0" encoding="UTF-8"?>
<Configuration status="WARN">
    <Appenders>
        <!-- TRAN LOG -->
        <RollingFile name="TRAN"
                     fileName="${sys:SW_D_DATLOG}/ws/waor/sw_${sys:SW_P_PROCNAME_WAOR}_txn.log"
                     filePattern="${sys:SW_D_DATLOG}/ws/waor/sw_${sys:SW_P_PROCNAME_WAOR}_txn-%d{yyyyMMdd}.log.gz">
            <PatternLayout pattern="%d{yyyy/MM/dd HH:mm:ss.SSS}, %m%n"/>
            <Policies>
                <TimeBasedTriggeringPolicy interval="1" modulate="true"/>
            </Policies>
            <Filters>
                <ThresholdFilter level="info" onMatch="ACCEPT" onMismatch="DENY"/>
            </Filters>
        </RollingFile>

        <!-- PROC LOG -->
        <RollingFile name="PROC"
                     fileName="${sys:SW_D_DATLOG}/ws/waor/sw_${sys:SW_P_PROCNAME_WAOR}.log"
                     filePattern="${sys:SW_D_DATLOG}/ws/waor/sw_${sys:SW_P_PROCNAME_WAOR}-%d{yyyyMMdd}.log.gz">
            <PatternLayout pattern="%d{yyyy/MM/dd HH:mm:ss.SSS} %p [%t] %c - %m%n"/>
            <Policies>
                <TimeBasedTriggeringPolicy interval="1" modulate="true"/>
            </Policies>
        </RollingFile>

        <!-- 控制台输出（可选） -->
        <Console name="Console" target="SYSTEM_OUT">
            <PatternLayout pattern="%d{yyyy/MM/dd HH:mm:ss.SSS} %p [%t] %c - %m%n"/>
        </Console>
    </Appenders>

    <Loggers>
        <!-- TRAN 分类 -->
        <Logger name="tran" level="info" additivity="false">
            <AppenderRef ref="TRAN"/>
        </Logger>

        <!-- PROC 分类 -->
        <Logger name="proc" level="info" additivity="false">
            <AppenderRef ref="PROC"/>
        </Logger>

        <!-- 根日志，保留控制台 -->
        <Root level="warn">
            <AppenderRef ref="Console"/>
        </Root>
    </Loggers>
</Configuration>
